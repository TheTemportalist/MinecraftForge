--- ../src-base/minecraft/net/minecraft/world/gen/ChunkProviderEnd.java
+++ ../src-work/minecraft/net/minecraft/world/gen/ChunkProviderEnd.java
@@ -39,6 +39,9 @@
     double[] field_185967_f;
     double[] field_185968_g;
     private final WorldGenEndIsland field_185975_r = new WorldGenEndIsland();
+    // temporary variables used during event handling
+    private int chunkX = 0;
+    private int chunkZ = 0;
 
     public ChunkProviderEnd(World p_i46667_1_, boolean p_i46667_2_, long p_i46667_3_)
     {
@@ -51,6 +54,16 @@
         this.noiseGen5 = new NoiseGeneratorOctaves(this.rand, 10);
         this.noiseGen6 = new NoiseGeneratorOctaves(this.rand, 16);
         this.field_185973_o = new NoiseGeneratorSimplex(this.rand);
+
+        net.minecraftforge.event.terraingen.InitNoiseGensEvent.ContextEnd ctx =
+                new net.minecraftforge.event.terraingen.InitNoiseGensEvent.ContextEnd(field_185969_i, field_185970_j, field_185971_k, noiseGen5, noiseGen6, field_185973_o);
+        ctx = net.minecraftforge.event.terraingen.TerrainGen.getModdedNoiseGenerators(p_i46667_1_, this.rand, ctx);
+        this.field_185969_i = ctx.getLPerlin1();
+        this.field_185970_j = ctx.getLPerlin2();
+        this.field_185971_k = ctx.getPerlin();
+        this.noiseGen5 = ctx.getDepth();
+        this.noiseGen6 = ctx.getScale();
+        this.field_185973_o = ctx.getIsland();
     }
 
     public void setBlocksInChunk(int p_180518_1_, int p_180518_2_, ChunkPrimer p_180518_3_)
@@ -123,6 +136,7 @@
 
     public void func_185962_a(ChunkPrimer p_185962_1_)
     {
+        if (!net.minecraftforge.event.ForgeEventFactory.onReplaceBiomeBlocks(this, this.chunkX, this.chunkZ, p_185962_1_, this.worldObj)) return;
         for (int i = 0; i < 16; ++i)
         {
             for (int j = 0; j < 16; ++j)
@@ -174,6 +188,7 @@
 
     public Chunk func_185932_a(int p_185932_1_, int p_185932_2_)
     {
+        this.chunkX = p_185932_1_; this.chunkZ = p_185932_2_;
         this.rand.setSeed((long)p_185932_1_ * 341873128712L + (long)p_185932_2_ * 132897987541L);
         ChunkPrimer chunkprimer = new ChunkPrimer();
         this.biomesForGeneration = this.worldObj.getWorldChunkManager().loadBlockGeneratorData(this.biomesForGeneration, p_185932_1_ * 16, p_185932_2_ * 16, 16, 16);
@@ -255,6 +270,10 @@
 
     private double[] func_185963_a(double[] p_185963_1_, int p_185963_2_, int p_185963_3_, int p_185963_4_, int p_185963_5_, int p_185963_6_, int p_185963_7_)
     {
+        net.minecraftforge.event.terraingen.ChunkGeneratorEvent.InitNoiseField event = new net.minecraftforge.event.terraingen.ChunkGeneratorEvent.InitNoiseField(this, p_185963_1_, p_185963_2_, p_185963_3_, p_185963_4_, p_185963_5_, p_185963_6_, p_185963_7_);
+        net.minecraftforge.common.MinecraftForge.EVENT_BUS.post(event);
+        if (event.getResult() == net.minecraftforge.fml.common.eventhandler.Event.Result.DENY) return event.noisefield;
+
         if (p_185963_1_ == null)
         {
             p_185963_1_ = new double[p_185963_5_ * p_185963_6_ * p_185963_7_];
@@ -327,6 +346,7 @@
     public void func_185931_b(int p_185931_1_, int p_185931_2_)
     {
         BlockFalling.fallInstantly = true;
+        net.minecraftforge.event.ForgeEventFactory.onChunkPopulate(true, this, this.worldObj, p_185931_1_, p_185931_2_, false);
         BlockPos blockpos = new BlockPos(p_185931_1_ * 16, 0, p_185931_2_ * 16);
 
         if (this.mapFeaturesEnabled)
@@ -374,6 +394,7 @@
             }
         }
 
+        net.minecraftforge.event.ForgeEventFactory.onChunkPopulate(false, this, this.worldObj, p_185931_1_, p_185931_2_, false);
         BlockFalling.fallInstantly = false;
     }
 
