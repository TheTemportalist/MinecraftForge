--- ../src-base/minecraft/net/minecraft/entity/passive/EntityVillager.java
+++ ../src-work/minecraft/net/minecraft/entity/passive/EntityVillager.java
@@ -221,7 +221,7 @@
     {
         boolean flag = p_184645_3_ != null && p_184645_3_.getItem() == Items.spawn_egg;
 
-        if (!flag && this.isEntityAlive() && !this.isTrading() && !this.isChild())
+        if (!flag && this.isEntityAlive() && !this.isTrading() && !this.isChild() && !player.isSneaking())
         {
             if (!this.worldObj.isRemote && (this.buyingList == null || !this.buyingList.isEmpty()))
             {
@@ -533,6 +533,7 @@
 
     private void populateBuyingList()
     {
+        //TODO: Hook into VillagerRegistry
         EntityVillager.ITradeList[][][] aentityvillager$itradelist = DEFAULT_TRADE_LIST_MAP[this.getProfession()];
 
         if (this.careerId != 0 && this.careerLevel != 0)
@@ -647,6 +648,7 @@
                     }
             }
 
+            //TODO: Hook into VillagerRegistry to get name
             if (s1 != null)
             {
                 TextComponentTranslation textcomponenttranslation = new TextComponentTranslation("entity.Villager." + s1, new Object[0]);
@@ -708,7 +710,7 @@
     public IEntityLivingData onInitialSpawn(DifficultyInstance difficulty, IEntityLivingData livingdata)
     {
         livingdata = super.onInitialSpawn(difficulty, livingdata);
-        this.setProfession(this.worldObj.rand.nextInt(5));
+        net.minecraftforge.fml.common.registry.VillagerRegistry.setRandomProfession(this, this.worldObj.rand);
         this.setAdditionalAItasks();
         return livingdata;
     }
