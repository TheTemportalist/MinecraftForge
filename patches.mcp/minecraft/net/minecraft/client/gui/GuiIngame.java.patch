--- ../src-base/minecraft/net/minecraft/client/gui/GuiIngame.java
+++ ../src-work/minecraft/net/minecraft/client/gui/GuiIngame.java
@@ -360,7 +360,8 @@
 
                 BlockPos blockpos = raytraceresult.getBlockPos();
 
-                if (!this.mc.theWorld.getBlockState(blockpos).getBlock().hasTileEntity() || !(this.mc.theWorld.getTileEntity(blockpos) instanceof IInventory))
+                net.minecraft.block.state.IBlockState state = this.mc.theWorld.getBlockState(blockpos);
+                if (!state.getBlock().hasTileEntity(state) || !(this.mc.theWorld.getTileEntity(blockpos) instanceof IInventory))
                 {
                     return;
                 }
