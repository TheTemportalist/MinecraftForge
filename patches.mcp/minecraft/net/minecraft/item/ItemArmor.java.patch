--- ../src-base/minecraft/net/minecraft/item/ItemArmor.java
+++ ../src-work/minecraft/net/minecraft/item/ItemArmor.java
@@ -267,7 +267,15 @@
 
         public Item getRepairItem()
         {
-            return this == LEATHER ? Items.leather : (this == CHAIN ? Items.iron_ingot : (this == GOLD ? Items.gold_ingot : (this == IRON ? Items.iron_ingot : (this == DIAMOND ? Items.diamond : null))));
+            switch (this)
+            {
+                case LEATHER: return Items.leather;
+                case CHAIN:   return Items.iron_ingot;
+                case GOLD:    return Items.gold_ingot;
+                case IRON:    return Items.iron_ingot;
+                case DIAMOND: return Items.diamond;
+                default:      return customCraftingMaterial;
+            }
         }
 
         @SideOnly(Side.CLIENT)
