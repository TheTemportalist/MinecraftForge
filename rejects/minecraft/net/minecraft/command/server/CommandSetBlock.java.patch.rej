++++ REJECTED PATCH 1
                 i = parseInt(args[4], 0, 15);
             }
 
+            IBlockState state = block.getStateFromMeta(i);
+
             World world = sender.getEntityWorld();
 
             if (!world.isBlockLoaded(blockpos))
++++ END PATCH
++++ REJECTED PATCH 2
                 NBTTagCompound nbttagcompound = new NBTTagCompound();
                 boolean flag = false;
 
-                if (args.length >= 7 && block.hasTileEntity())
+                if (args.length >= 7 && block.hasTileEntity(state))
                 {
                     String s = getChatComponentFromNthArg(sender, args, 6).getUnformattedText();
 
++++ END PATCH
